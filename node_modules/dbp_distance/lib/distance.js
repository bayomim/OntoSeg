var fs = require('fs');
var _ = require('underscore');

var ObjAr;
(function () { // initialisation
    var array = fs.readFileSync('dbp_on/dbp_on_2014-.txt');
    ObjAr = JSON.parse(array);
    console.log("File is loaded");
})();

exports.distance = function (a, b) {
   
    if (a == b) {
       
       return 0;
    }
    else {
        var fin = _.find(ObjAr, function (obj) {
            return ((obj.first == a && obj.second == b) || (obj.first == b && obj.second == a));
        });
        if (fin) {
            return fin.distance;
        }
        else {
            console.log("a: %s --- b: %s", a, b);
             return null;
        }
    }
}
